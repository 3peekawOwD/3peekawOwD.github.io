<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script src="https://NickProgramm.github.io/cdn/jquery.min.js"></script>
</head>
<body>
<center>
<h1>Sololearn</h1>
<h3>Для Firefox OS</h3>
<p>
<img src="https://pbs.twimg.com/profile_images/378800000242038210/3c561ae8a8bbf4d8f7c3428e49a92e51_400x400.png">
</p>
<script>
var gManifestName = "https://NickProgramm.github.io/sololearn/manifest.webapp";//путь к манифесту
        app=function(){
                
                this.init=function(){
                       //работа приложения 
                }
                this.init();
        };
        $(document).ready(function(){ 
             
              var request = navigator.mozApps.getSelf(); //Вызываем класс для получения информации  о приложении 
              request.onsuccess=function(){// при успешном вызове
                
                if(request.result){//если мы получили результат, значит приложение установленно
                    alert('Приложение установлено'); 
                    a=new app();
                        
                }else{// если нет то создаем кнопку
                    $('<div>').appendTo('body').attr('id','inst_b').text('Установить!').css({width:200,textAlign:'center',padding:5,background:'#222',color:'#ccc',borderRadius:'3px'}).click(function(){
                        var inst=navigator.mozApps.install(gManifestName);//при клике на кнопку устанавливаем приложение
                        inst.onsuccess=function(){alert('Установка завершена');$('#inst_b').remove();a=new app();};//установка выполнена успешно
                        inst.onerror=function(){alert('Установка не удалась:\n'+this.error.name)}// ошибка при установке
                    });
                }
              };
              request.onerror=function(){alert('Ошибка:\n'+this.error.message)}//при ошибке
                
        });
</script>
</center>
</body>
</html>
